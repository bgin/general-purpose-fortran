<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace}
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 1.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<h5><a href="download.html">[UP]</a></h5>
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>Manual Reference Pages &nbsp;-&nbsp;</I><NOBR>get_namelist (3)</NOBR><HR></H1>
</CENTER>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
<B>get_namelist(3f) </B>- [ARGUMENTS:M_args] NAMELIST-based command line argument parsing
<B>
</B></BLOCKQUOTE>
<A name=contents></A><H3>CONTENTS</H3></A>
<BLOCKQUOTE>
<A HREF=#1>Synopsis</A><BR>
<A HREF=#2>Description</A><BR>
<A HREF=#3>Returns</A><BR>
<A HREF=#4>Example</A><BR>
</BLOCKQUOTE>
<A name=5>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<PRE>
subroutine <B>get_namelist</B>(<I>string</I>)
<P>
   character(len=:),allocatable,intent(out) :: string
</PRE>
</BLOCKQUOTE>
<A name=2>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<P>
NAMELIST can be used to create a unprecedentedly simple method of
passing keyword-value pairs via the command line. the following example
program simply needs an initialized variable added to the NAMELIST
and it automatically is available as a command line argument. Hard
to imagine it getting much simpler.
<P>
You can call the example program with syntax like:
<P>
<PRE>
      testit r=200e3 i=200
      testit K=33333,J=22222,I=11111
<P>
</PRE>
Note that if you pass in strings you probably will have to use nested
quotes or escape your quote characters. How you do that can vary with
what shell and OS you are running in.
<P>
<PRE>
      # just quote the entire argument list with single quotes &#46;&#46;&#46;
      testit &#146;c="my character string" S=10,T=20.30,R=3e-2&#146;
<P>
      or nest the quotes &#46;&#46;&#46;
      testit c=&#146;"string"&#146; S=20.30
<P>
      or escape the quotes &#46;&#46;&#46;
      testit c=\"string\"
<P>
</PRE>
As you will see, there is no need to convert from strings to numeric
values in the source code. Even arrays and user-defined types can be
used, complex values can be input &#46;&#46;&#46; just define the variable and
add it to the NAMELIST definition.
<P>
And if you want to use a config file instead of command line arguments
just create a NAMELIST input file and read it.
</BLOCKQUOTE>
<A name=3>

     <H3>RETURNS</H3>

</A>
<BLOCKQUOTE>
<TABLE cellpadding=3>
<TR valign=top><TD width=6% nowrap>
<B>STRING</B> </TD><TD valign=bottom>
composed of all command arguments concatenated into a <I>string</I>
prepared for reading as a NAMELIST.
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=4>

     <H3>EXAMPLE</H3>

</A>
<BLOCKQUOTE>
Sample usage
<P>
<PRE>
   program demo_get_namelist
   implicit none
   character(len=255)           :: message ! use for I/O error messages
   character(len=:),allocatable :: string  ! stores command line argument
   integer                      :: ios
<P>
   ! declare and initialize a namelist
   integer    :: i=1, j=2, k=3
   real       :: s=111.1, t=222.2, r=333.3
   real       :: arr(3)=[10.0,20.0,30.0]
   character(len=255) :: c=&#146; &#146;
   ! just add a variable here and it is a new parameter !!
   namelist /cmd/ i,j,k,s,t,r,c,arr
<P>
      ! return command line arguments as NAMELIST input
      string=get_namelist()
      ! internal read of namelist
      read(string,nml=cmd,iostat=ios,iomsg=message)
      if(ios.ne.0)then
         write(*,&#146;("ERROR:",i0,1x,a)&#146;)ios, trim(message)
         write(*,*)&#146;OPTIONS:&#146;
         write(*,nml=cmd)
         stop 1
      endif
      ! all done cracking the command line
<P>
      ! use the values in your program. For example &#46;&#46;&#46;
      sum=i+j+k
      write(*,*)&#146;sum=&#146;,sum
</PRE>
end program demo_get_namelist
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I></I></TD> <TD width=33% align=center>get_namelist (3)</TD> <TD align=right width=33%><I>September 27, 2019</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from 6d136c45-2400-4839-9744-8d71c48eca6a using man macros.</FONT>
<br><br><center><img src="images/get_namelist.3.gif"></center>
</div>
</div>
</body>
</HTML>
