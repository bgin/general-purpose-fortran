<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GeneralPurposeFortran: m_calculator_plus Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GeneralPurposeFortran
   </div>
   <div id="projectbrief">Fortran CLI (Command Line Interfaces)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">m_calculator_plus Module Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a3edbf94f311a3fad4a83fd8dfe26a61a"><td class="memItemLeft" align="right" valign="top">integer function, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacem__calculator__plus.html#a3edbf94f311a3fad4a83fd8dfe26a61a">inum0</a> (inline, ierr)</td></tr>
<tr class="memdesc:a3edbf94f311a3fad4a83fd8dfe26a61a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h2>NAME</h2>
inum0(3f) - [M_calculator_plus] return integer value from calculator expression </p><h2>SYNOPSIS</h2>
 <a href="#a3edbf94f311a3fad4a83fd8dfe26a61a">More...</a><br /></td></tr>
<tr class="separator:a3edbf94f311a3fad4a83fd8dfe26a61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a448c42e7171e27c1f4a8e339687b0e3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="read__watch_83_8txt.html#abdb62bde002f38ef75f810d3a905a823">real</a> function, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacem__calculator__plus.html#a448c42e7171e27c1f4a8e339687b0e3f">rnum0</a> (inline, ierr)</td></tr>
<tr class="memdesc:a448c42e7171e27c1f4a8e339687b0e3f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h2>NAME</h2>
rnum0(3f) - [M_calculator_plus] returns real number from string expression using JUCALC(3f) </p><h2>SYNOPSIS</h2>
 <a href="#a448c42e7171e27c1f4a8e339687b0e3f">More...</a><br /></td></tr>
<tr class="separator:a448c42e7171e27c1f4a8e339687b0e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add45c0bb36bc796ee8a0354665f9397e"><td class="memItemLeft" align="right" valign="top">doubleprecision function, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacem__calculator__plus.html#add45c0bb36bc796ee8a0354665f9397e">dnum0</a> (inline, ierr)</td></tr>
<tr class="memdesc:add45c0bb36bc796ee8a0354665f9397e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h2>NAME</h2>
dnum0(3f) - [M_calculator_plus] return double precision value from string expression using JUCALC </p><h2>SYNOPSIS</h2>
 <a href="#add45c0bb36bc796ee8a0354665f9397e">More...</a><br /></td></tr>
<tr class="separator:add45c0bb36bc796ee8a0354665f9397e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2538e7f9f0b810f7f8dbdd80fa2444b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=:) function, allocatable, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacem__calculator__plus.html#a2538e7f9f0b810f7f8dbdd80fa2444b3">snum0</a> (inline0, ierr)</td></tr>
<tr class="memdesc:a2538e7f9f0b810f7f8dbdd80fa2444b3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h2>NAME</h2>
snum0(3f) - [M_calculator_plus] resolve a calculator expression into a string(return blank on errors)  <a href="#a2538e7f9f0b810f7f8dbdd80fa2444b3">More...</a><br /></td></tr>
<tr class="separator:a2538e7f9f0b810f7f8dbdd80fa2444b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558a3fed7079c10085ce2f71da532d08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="M__stopwatch_83_8txt.html#acfbcff50169d691ff02d4a123ed70482">subroutine</a>, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacem__calculator__plus.html#a558a3fed7079c10085ce2f71da532d08">jucalcx</a> (inlin0, outval, outlin0, ierr, ilen)</td></tr>
<tr class="memdesc:a558a3fed7079c10085ce2f71da532d08"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h2>NAME</h2>
jucalcx(3f) - [M_calculator_plus] return value from a string expression processing messages to simplify call to JUCALC(3f) </p><h2>SYNOPSIS</h2>
 <a href="#a558a3fed7079c10085ce2f71da532d08">More...</a><br /></td></tr>
<tr class="separator:a558a3fed7079c10085ce2f71da532d08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3424e0cb74d4af53e7f59c07d31f1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="M__stopwatch_83_8txt.html#acfbcff50169d691ff02d4a123ed70482">subroutine</a>, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacem__calculator__plus.html#a4d3424e0cb74d4af53e7f59c07d31f1b">strgarr</a> (line, ivals, vals, ifound, delims0, ierr)</td></tr>
<tr class="memdesc:a4d3424e0cb74d4af53e7f59c07d31f1b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h2>NAME</h2>
strgarr(3f) - [M_calculator_plus] read a string into an array using jucalc(3f) calculator </p><h2>SYNOPSIS</h2>
 <a href="#a4d3424e0cb74d4af53e7f59c07d31f1b">More...</a><br /></td></tr>
<tr class="separator:a4d3424e0cb74d4af53e7f59c07d31f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59710eb6babeed1f4b8d439f97d5d90a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="M__stopwatch_83_8txt.html#acfbcff50169d691ff02d4a123ed70482">subroutine</a>, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacem__calculator__plus.html#a59710eb6babeed1f4b8d439f97d5d90a">strgar2</a> (line, iread, numbrs, inums, delims0, ierr)</td></tr>
<tr class="memdesc:a59710eb6babeed1f4b8d439f97d5d90a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><h2>NAME</h2>
strgar2(3f) - [M_calculator_plus] read a string into a real array USING CALCULATOR, allowing quoted strings in arguments,  <a href="#a59710eb6babeed1f4b8d439f97d5d90a">More...</a><br /></td></tr>
<tr class="separator:a59710eb6babeed1f4b8d439f97d5d90a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="add45c0bb36bc796ee8a0354665f9397e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add45c0bb36bc796ee8a0354665f9397e">&#9670;&nbsp;</a></span>dnum0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">doubleprecision function, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a> m_calculator_plus::dnum0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>inline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), <a class="el" href="option__stopwatch_83_8txt.html#aa4ece75e7acf58a4843f70fe18c3ade5">optional</a>&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><h2>NAME</h2>
dnum0(3f) - [M_calculator_plus] return double precision value from string expression using JUCALC </p><h2>SYNOPSIS</h2>
</p>
<p>doubleprecision function dnum0(inline,ierr)</p>
<p>character(len=*),intent(in) :: inline integer,optional,intent(out) :: ierr</p>
<h2>DESCRIPTION</h2>
<p>DNUM0() is used to return a DOUBLEPRECISION value from a CHARACTER string representing a numeric expression. o If an error occurs in evaluating the expression INUM() returns zero(0). o DNUM0() ultimately uses the calculator routine jucalc.f .</p>
<p>inline INLINE is a CHARACTER variable up to (iclen_calc=255) characters long that is similar to a FORTRAN 77 numeric expression. ierr error code. If zero, no error occurred</p>
<h2>DEPENDENCIES</h2>
<p>o jucalcx o User-supplied routines: All programs that call the calculator routine must supply their own JUOWN1 and C procedures. See the example program for samples. o juown1 o c </p><h2>EXAMPLES</h2>
<p>Sample Program</p>
<p>program demo_dnum0 doubleprecision x,y,z ! NOTE: user must supply the JUOWN1 and C procedures. X=DNUM0('20/3.4') Y=DNUM0('CI = 10 * sin(3.1416/4)') Z=DNUM0('CI') write(*,*)x,y,z end program demo_dnum0</p>
<h2>SEE ALSO</h2>
<pre class="fragment">   o The syntax of an expression is as described in the main documentation of the Calculator Library.
   o See JUCALCX(), JUCALC(), STRGAR2(), RNUM0(), SNUM0().
</pre><h2>REFERENCES</h2>
<p>o NONE. AUTHOR + John S. Urban </p><h2>VERSION 1.0, 19971123</h2>

<p class="reference">References <a class="el" href="namespacem__calculator__plus.html#a558a3fed7079c10085ce2f71da532d08">jucalcx()</a>.</p>

</div>
</div>
<a id="a3edbf94f311a3fad4a83fd8dfe26a61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3edbf94f311a3fad4a83fd8dfe26a61a">&#9670;&nbsp;</a></span>inum0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a> m_calculator_plus::inum0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>inline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), <a class="el" href="option__stopwatch_83_8txt.html#aa4ece75e7acf58a4843f70fe18c3ade5">optional</a>&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><h2>NAME</h2>
inum0(3f) - [M_calculator_plus] return integer value from calculator expression </p><h2>SYNOPSIS</h2>
</p>
<p>integer function inum0(inline,ierr)</p>
<p>character(len=*),intent(in) :: inline integer,optional,intent(out) :: ierr</p>
<h2>SYNOPSIS</h2>
<pre class="fragment">INUM0() evaluates a CHARACTER argument as a FORTRAN-like
calculator expression and returns an integer.

 o INUM0() uses the calculator routine jucalc(3f)
 o Remember that the calculator treats all values as DOUBLEPRECISION.

Values returned are assumed to be very close to being whole integer
values.  A small value (0.01) is added to the result before it is
returned to reduce roundoff error problems. This could introduce
errors if INUM0 is misused and is not being used to calculate
essentially integer results.
</pre> <h2>DESCRIPTION</h2>
<pre class="fragment">inline  INLINE is a CHARACTER variable up to 255 characters long that is
        similar to a FORTRAN 77 numeric expression. Keep it less than 80
        characters when possible.
ierr    zero (0) if no error occurs
</pre><h2>DEPENDENCIES</h2>
<p>o jucalcx o User-supplied routines:</p>
<p>All programs that call the calculator routine must supply their own JUOWN1 and C procedures. See the ../html/Example.html"&gt;example program for samples. o juown1 o c </p><h2>EXAMPLES</h2>
<pre class="fragment">Sample program:

   program demo_inum0
   ! NOTE: user must supply the JUOWN1 and C procedures.
   i=inum0('20/3.4')
   j=inum0('CI = 13 * 3.1')
   k=inum0('CI')
   write(*,*)'Answers are ',I,J,K
   end program demo_inum0
</pre><h2>SEE ALSO</h2>
<p>The syntax of an expression is as described in the main document of the Calculator Library. See JUCALC(), RNUM0(), DNUM0(), SNUM0(), STRGARR(), STRGAR2(), JUCALCX() </p><h2>REFERENCES</h2>
<h2>NONE.</h2>
<p>AUTHOR: John S. Urban </p><h2>VERSION: 19971123</h2>

<p class="reference">References <a class="el" href="namespacem__calculator__plus.html#a558a3fed7079c10085ce2f71da532d08">jucalcx()</a>.</p>

</div>
</div>
<a id="a558a3fed7079c10085ce2f71da532d08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a558a3fed7079c10085ce2f71da532d08">&#9670;&nbsp;</a></span>jucalcx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="M__stopwatch_83_8txt.html#acfbcff50169d691ff02d4a123ed70482">subroutine</a>, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a> m_calculator_plus::jucalcx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>inlin0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">doubleprecision&#160;</td>
          <td class="paramname"><em>outval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*)&#160;</td>
          <td class="paramname"><em>outlin0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ilen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><h2>NAME</h2>
jucalcx(3f) - [M_calculator_plus] return value from a string expression processing messages to simplify call to JUCALC(3f) </p><h2>SYNOPSIS</h2>
</p>
<p>subroutine jucalcx(inlin0,outval,outlin0,ierr,ilen)</p>
<p>character(len=*), intent=(in) :: inlin0 doubleprecision, intent=(out) :: outval character(len=*), intent=(out) :: outlin0 integer, intent=(out) :: ierr integer, intent=(out) :: ilen</p>
<h2>DESCRIPTION</h2>
<p>JUCALCX() takes a string containing a FORTRAN-like expression and evaluates it and returns a numeric or string value as appropriate. The main purpose of JUCALCX() is to assume the burden of displaying the calculator messages for codes that make multiple calls to JUCALC(). JUCALC () does not display error messages directly. o JUCALCX() calls the calculator routine jucalc.f to evaluate the expressions. o Messages beginning with a # are considered comments and are not passed on to the calculator.</p>
<p>inlin0 INLIN0 is a string containing a numeric expression. The expression can be up to (iclen_calc=512) characters long. The syntax of an expression is as described in the main document of the Calc library. For example:</p>
<p>'A=sin(3.1416/5)' '# this is a comment' '$STR("The value is ",40/3)'</p>
<p>outval OUTVAL is a numeric value calculated from the expression in INLIN0 (when IERR returns 0). When a string value is returned (IERR=2) then OUTVAL is the length of the output string. outlin0 OUTLIN0 contains a string representation of the number returned in OUTVAL up to 20 characters long when INLIN0 is a numeric expression. It contains a string up to (iclen_calc=512) characters long when INLIN0 is a string expression. ierr IERR returns </p><pre class="fragment">    o -1 if an error occurred
    o 0 if a numeric value is returned (value is in OUTVAL, string
      representation of the value is in OUTLIN2).
    o 1 if no value was returned but a message was displayed (If a 'dump'
      or 'funcs' command was passed to the calculator).
    o 2 if the expression evaluated to a string value instead of a
      numeric value (value is in OUTLIN0).
</pre><p> ilen ILEN returns the length of the input string minus trailing blanks.</p>
<h2>DEPENDENCIES</h2>
<p>o jucalc o pdec o User-supplied routines:</p>
<p>All programs that call the calculator routine must supply their own JUOWN1 and C procedures. See the example program for samples. o juown1 o c </p><h2>EXAMPLES</h2>
<pre class="fragment">Sample program:

 program TEST_JUCALCX
 !     NOTE: user must supply the JUOWN1 and C procedures.
 use m_calculator, only: iclen_calc
 character(len=iclen_calc) ::  outlin0
 doubleprecision :: outval
 call jucalcx('A=3.4**5    ',outval,outlin0,ierr,ilen)
 write(*,*)'value of expression is ',outval
 write(*,*)'string representation of value is ',outlin0
 write(*,*)'error flag value is ',ierr
 write(*,*)'length of expression is ',ilen
 end program TEST_JUCALCX
</pre><h2>SEE ALSO</h2>
<p>See also: STRGAR(),RNUM0(),JUCALC(),INUM0(),SNUM0() </p><h2>REFERENCES</h2>
<p>NONE. AUTHOR John S. Urban </p><h2>VERSION V1.0, 19971123</h2>

<p class="reference">References <a class="el" href="namespacem__calculator.html#a7a98aaf2fb03204125187dfec671ce1f">m_calculator::jucalc()</a>.</p>

</div>
</div>
<a id="a448c42e7171e27c1f4a8e339687b0e3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a448c42e7171e27c1f4a8e339687b0e3f">&#9670;&nbsp;</a></span>rnum0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="read__watch_83_8txt.html#abdb62bde002f38ef75f810d3a905a823">real</a> function, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a> m_calculator_plus::rnum0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>inline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), <a class="el" href="option__stopwatch_83_8txt.html#aa4ece75e7acf58a4843f70fe18c3ade5">optional</a>&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><h2>NAME</h2>
rnum0(3f) - [M_calculator_plus] returns real number from string expression using JUCALC(3f) </p><h2>SYNOPSIS</h2>
</p>
<p>real function rnum0(inline) character(len=*), intent=(in) :: inline integer,intent(out),optional :: ierr</p>
<h2>DESCRIPTION</h2>
<p>RNUM0() is used to return a REAL value from a CHARACTER string representing a numeric expression. It uses the M_calculator(3fp) module.</p>
<p>inline INLINE is a CHARACTER variable up to (iclen_calc=512) characters long that is similar to a FORTRAN 77 numeric expression. ierr error code. If zero, no error occurred</p>
<h2>DEPENDENCIES</h2>
<p>o jucalcx o User-supplied routines: All programs that call the calculator routine must supply their own JUOWN1 and C procedures. See the example program for samples. o juown1 o c </p><h2>EXAMPLES</h2>
<p>Sample program</p>
<p>program demo_rnum0 ! NOTE: user must supply the JUOWN1 and C procedures. x=rnum0('20/3.4') y=rnum0('CI = 10 * sin(3.1416/4)') z=rnum0('CI') write(*,*)x,y,z end program demo_rnum0</p>
<h2>SEE ALSO</h2>
<pre class="fragment">   o The syntax of an expression is as described in the main documentation
     of the Calculator Library.
   o See JUCALCX(3f), JUCALC(3f), STRGAR2(3f), INUM0(3f), DNUM0(3f), SNUM0(3f).
</pre><h2>REFERENCES</h2>
<p>o NONE. AUTHOR John S. Urban </p><h2>VERSION 1.0,19971123</h2>

<p class="reference">References <a class="el" href="namespacem__calculator__plus.html#a558a3fed7079c10085ce2f71da532d08">jucalcx()</a>.</p>

</div>
</div>
<a id="a2538e7f9f0b810f7f8dbdd80fa2444b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2538e7f9f0b810f7f8dbdd80fa2444b3">&#9670;&nbsp;</a></span>snum0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=:) function, allocatable, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a> m_calculator_plus::snum0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>inline0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), <a class="el" href="option__stopwatch_83_8txt.html#aa4ece75e7acf58a4843f70fe18c3ade5">optional</a>&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><h2>NAME</h2>
snum0(3f) - [M_calculator_plus] resolve a calculator expression into a string(return blank on errors) </p>
<h2>SYNOPSIS</h2>
<p>function snum0(inline0,ierr)</p>
<p>character(len=:),allocatable :: snum0(inline0) character(len=*),intent(in) :: inline0 ! input string integer,optional,intent(out) :: ierr</p>
<h2>DESCRIPTION</h2>
<p>SNUM0() is used to return a string value up to (iclen_calc=512) characters long from a string expression. SNUM0() uses the calculator routine jucalc.f .</p>
<p>inline0 INLINE0 is a CHARACTER variable up to (iclen_calc=512) characters long that is similar to a FORTRAN 77 expression. ierr error code. If zero, no error occurred</p>
<h2>EXAMPLES</h2>
<p>Sample program:</p>
<p>! NOTE: user must supply the JUOWN1 and C procedures. program DEMO_SNUM0 use <a class="el" href="namespacem__calculator__plus.html">m_calculator_plus</a>, only: iclen_calc, rnum0, snum0 CHARACTER(len=80) :: IC,JC,KC</p>
<p>RDUM=RNUM0('A=83/2') ! set a variable in the calculator KC=SNUM0('$MYTITLE="This is my title variable"')</p>
<p>IC=SNUM0('$STR("VALUE IS [",A,"]")') JC=SNUM0('$MYTITLE')</p>
<p>WRITE(*,*)'IC=',TRIM(IC) WRITE(*,*)'JC=',TRIM(JC) WRITE(*,*)'KC=',TRIM(KC)</p>
<p>end program DEMO_SNUM0 $endif</p>
<p>The output should look like</p>
<p>IC=VALUE IS [41.5] JC=This is my title variable KC=This is my title variable</p>
<h2>DEPENDENCIES</h2>
<p>o jucalcx o User-supplied routines: All programs that call the calculator routine must supply their own JUOWN1 and C procedures. See the example program for samples. o juown1 o c</p>
<h2>SEE ALSO</h2>
<p>o The syntax of an expression is described in the main document of the Calculator Library. o See JUCALC(), RNUM0(), SNUM0(), STRGAR2(), JUCALCX().</p>
<h2>REFERENCES</h2>
<p>o NONE. AUTHOR John S. Urban </p><h2>VERSION 1.0, 19971123</h2>

<p class="reference">References <a class="el" href="namespacem__calculator.html#accf705491e8bd9b3d2f0d04fd13712e7">m_calculator::iclen_calc</a>, and <a class="el" href="namespacem__calculator__plus.html#a558a3fed7079c10085ce2f71da532d08">jucalcx()</a>.</p>

</div>
</div>
<a id="a59710eb6babeed1f4b8d439f97d5d90a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59710eb6babeed1f4b8d439f97d5d90a">&#9670;&nbsp;</a></span>strgar2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="M__stopwatch_83_8txt.html#acfbcff50169d691ff02d4a123ed70482">subroutine</a>, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a> m_calculator_plus::strgar2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>iread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="read__watch_83_8txt.html#abdb62bde002f38ef75f810d3a905a823">real</a>, dimension(iread), intent(out)&#160;</td>
          <td class="paramname"><em>numbrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>inums</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>delims0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><h2>NAME</h2>
strgar2(3f) - [M_calculator_plus] read a string into a real array USING CALCULATOR, allowing quoted strings in arguments, </p>
<h2>SYNOPSIS</h2>
<p>subroutine strgar2(line,ivals,vals,ifound,delims,ierr)</p>
<p>character(len=*), intent=(in) :: line integer, intent=(in) :: ivals real, intent=(out) :: vals(ivals) integer, intent=(out) :: ifound character(len=*), intent=(in) :: delims integer, intent=(out) :: ierr</p>
<h2>DESCRIPTION</h2>
<p>STRGAR2() returns an array of real values from a string containing numeric and string expressions. o STRGAR2() parses the string at the specified delimiters and calls the calculator routine jucalc.f to evaluate the expressions. o It counts the number of values found. o Once the maximum allowable number of values have been found STRGAR2() returns, ignoring the rest of the line. o If an error occurs the error flag returns the column number where the expression that failed begins. o If the string is '*', the value -99999.0 is returned.</p>
<p>line LINE is a string of numeric expressions. Each expression can be up to (iclen_calc=512) characters long. The syntax of an expression is as described in the main document of the Calculator Library. (Assuming the delimiters include a space character) an example would be: </p><pre class="fragment"> 'A=10 100 300E2/42.6  sin(3.1416/5)'
</pre> <pre class="fragment"> ivals        IVALS is the maximum number of values to return.
 vals(ivals)  VALS is an array filled with the numeric values calculated from the
              expressions in LINE.
 ifound       IFOUND is the number of values successfully returned in VALS
 delims       DELIMS is a character(s) to use as an expression delimiter. It is
              commonly set to a space (' '). If more than one character is specified,
              the space must not be last.
 ierr         IERR returns 0 if no error occurred. If an error did occur, it returns
              the column number the expression started at that could not be
              evaluated.
</pre><h2>DEPENDENCIES</h2>
<p>o jucalcx o User-supplied routines: All programs that call the calculator routine must supply their own JUOWN1 and C procedures. See the example program for samples. o juown1 o c </p><h2>EXAMPLES</h2>
<p>Sample program:</p>
<p>program T_STRGAR2 use M_calculator_plus, only : strgar2 integer :: ios integer :: i integer :: ifound integer :: ierr real :: vals(1000) character(len=4096) :: line ! NOTE: user must supply the JUOWN1 and C procedures.</p>
<p>write(*,'(80("-"))') call strgar2('10;2/3;sin(4.314)',4,vals,ifound,' ;',ierr) write(*,*)'should find three values in 10;2/3;sin(4.314)' write(*,*)'ifound=',ifound write(*,*)'values are',(vals(i),i=1,ifound)</p>
<p>write(*,'(80("-"))') write(*,*)'should find three values in 10;2/3;sin(4.314)' write(*,*)'ifound=',ifound call strgar2('10;2/3;sin(4.314) ',3,vals,ifound,' ;',ierr) write(*,*)'ifound=',ifound write(*,*)'values are',(vals(i),i=1,ifound)</p>
<p>write(*,'(80("-"))') write(*,*)'should stop at two values in 10;2/3;sin(4.314)' call strgar2('10;2/3;sin(4.314)',2,vals,ifound,' ;',ierr) write(*,*)'ifound=',ifound write(*,*)'values are',(vals(i),i=1,ifound)</p>
<p>write(*,'(80("-"))') write(*,*)'should stop at one values in 10;2/3;sin(4.314)' call strgar2('10;2/3;sin(4.314)',1,vals,ifound,' ;',ierr) write(*,*)'ifound=',ifound write(*,*)'values are',(vals(i),i=1,ifound)</p>
<p>write(*,'(80("-"))') write(*,*)'should find three values in 10;2/3;sin(4.314) ; ; ; ;; ' call strgar2('10;2/3;sin(4.314) ; ; ; ;; ',1000,vals,ifound,' ;',ierr) write(*,*)'ifound=',ifound write(*,*)'values are',(vals(i),i=1,ifound)</p>
<p>write(*,'(80("-"))') write(*,*)'should find an error in values in 10;20/3O;sin(4.314) ; ; ; ;; ' call strgar2('10;20/3O;sin(4.314) ; ; ; ;; ',1000,vals,ifound,' ;',ierr) write(*,*)'ifound=',ifound,' error=',ierr write(*,*)'values are',(vals(i),i=1,ifound)</p>
<p>write(*,'(80("-"))') write(*,*)'Enter strings delimited by spaces or semicolons' do read(*,'(a)',iostat=ios)line if(ios.ne.0)then stop endif call strgar2(line,1000,vals,ifound,' ;',ierr) write(*,*)'ifound=',ifound write(*,*)'values are',(vals(i),i=1,ifound) enddo end program T_STRGAR2</p>
<h2>SEE ALSO</h2>
<pre class="fragment"> To parse a list of numbers instead of expressions see STRGAR().
 If there is only one expression see RNUM0(), JUCALCX(), JUCALC().
</pre><h2>REFERENCES</h2>
<p>NONE. AUTHOR John S. Urban </p><h2>VERSION 1.0 19971123</h2>

<p class="reference">References <a class="el" href="__false_8f90.html#ac39cd9fe2012c31749944aa6b20b6c05">false()</a>, <a class="el" href="namespacem__calculator.html#accf705491e8bd9b3d2f0d04fd13712e7">m_calculator::iclen_calc</a>, <a class="el" href="namespacem__calculator__plus.html#a558a3fed7079c10085ce2f71da532d08">jucalcx()</a>, and <a class="el" href="__true_8f90.html#a7ed1d79677aed1b23489a4fe0bd16daa">true()</a>.</p>

</div>
</div>
<a id="a4d3424e0cb74d4af53e7f59c07d31f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d3424e0cb74d4af53e7f59c07d31f1b">&#9670;&nbsp;</a></span>strgarr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="M__stopwatch_83_8txt.html#acfbcff50169d691ff02d4a123ed70482">subroutine</a>, <a class="el" href="M__stopwatch_83_8txt.html#a2f74811300c361e53b430611a7d1769f">public</a> m_calculator_plus::strgarr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>ivals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="read__watch_83_8txt.html#abdb62bde002f38ef75f810d3a905a823">real</a>, dimension(ivals)&#160;</td>
          <td class="paramname"><em>vals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ifound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="option__stopwatch_83_8txt.html#abd4b21fbbd175834027b5224bfe97e66">character</a>(len=*), intent(<a class="el" href="M__journal_83_8txt.html#afce72651d1eed785a2132bee863b2f38">in</a>)&#160;</td>
          <td class="paramname"><em>delims0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><h2>NAME</h2>
strgarr(3f) - [M_calculator_plus] read a string into an array using jucalc(3f) calculator </p><h2>SYNOPSIS</h2>
</p>
<p>subroutine strgarr(line,ivals,vals,ifound,delims,ierr)</p>
<p>character(len=*), intent=(in) :: line integer, intent=(in) :: ivals real, intent=(out) :: vals(ivals) integer, intent=(out) :: ifound character(len=*), intent=(in) :: delims integer, intent=(out) :: ierr</p>
<h2>DESCRIPTION</h2>
<p><a class="el" href="namespacem__calculator__plus.html#a4d3424e0cb74d4af53e7f59c07d31f1b" title="NAMEstrgarr(3f) - [M_calculator_plus] read a string into an array using jucalc(3f) calculator SYNOPSI...">strgarr()</a> returns an array of real values from a string containing numeric expressions. Use <a class="el" href="namespacem__calculator__plus.html#a59710eb6babeed1f4b8d439f97d5d90a" title="NAMEstrgar2(3f) - [M_calculator_plus] read a string into a real array USING CALCULATOR, allowing quoted strings in arguments, ">strgar2()</a> if you are going to permit string expressions with " delimiters.</p>
<p>o <a class="el" href="namespacem__calculator__plus.html#a4d3424e0cb74d4af53e7f59c07d31f1b" title="NAMEstrgarr(3f) - [M_calculator_plus] read a string into an array using jucalc(3f) calculator SYNOPSI...">strgarr()</a> parses the string at the specified delimiters and calls the calculator routine JUCALCX(3f) to evaluate the expressions. o It counts the number of values found. o Once the maximum allowable number of values have been found <a class="el" href="namespacem__calculator__plus.html#a4d3424e0cb74d4af53e7f59c07d31f1b" title="NAMEstrgarr(3f) - [M_calculator_plus] read a string into an array using jucalc(3f) calculator SYNOPSI...">strgarr()</a> returns, ignoring the rest of the line. o If an error occurs the error flag returns the column number where the expression that failed begins.</p>
<p>line LINE is a string of numeric expressions. Each expression can be up to (iclen_calc=255) characters long. The syntax of an expression is as described in the main document of the Calculator Library. Assuming the delimiters include a space character an example would be:</p>
<p>'A=10 100 300E2/42.6 sin(3.1416/5)'</p>
<p>Only numeric expressions are expected; so no use of the delimiter characters is allowed except as a delimiter, even in quoted strings. ivals IVALS is the maximum number of values to return. vals(ivals) VALS is an array filled with the numeric values calculated from the expressions in LINE. ifound IFOUND is the number of values successfully returned in VALS delims DELIMS is a character to use as an expression delimiter. It is commonly set to a space and semi-colon(' ;'). ierr IERR returns 0 if no error occurred. If an error did occur, it returns the column number the expression started at that could not be evaluated.</p>
<h2>DEPENDENCIES</h2>
<p>o jucalcx o User-supplied routines: All programs that call the calculator routine must supply their own JUOWN1 and C procedures. See the example program for samples. o juown1 o c </p><h2>EXAMPLES</h2>
<pre class="fragment">Sample program:

   program T_strgarr
   use M_kracken, only: sget, kracken, lget
   use M_calculator_plus, only : strgarr
   real vals(41)
   character(len=80) :: line=' '
   character(len=10) :: delims=' ;'
   !  define command arguments, default values and crack command line
   call kracken('cmd','-d " ;" -test .false. -help .false. -begin -end')
   !----------------------------------------------------------
   write(*,*)'SGET',trim(sget('cmd_test'))
   write(*,*)'LGET',lget('cmd_test')
   if(lget('cmd_test'))then   ! cursory test
      call strgarr("10;2/3;sin(4.314)",41,vals,ifound,' ;',ierr)
      write(*,*)'values are',(vals(i),i=1,ifound)
      sumtarget= 9.74497986
      tol=       0.00000001
      sumup=sum(vals(:ifound))
      ipass=0
      if(ifound.ne.3) ipass=ipass+1
      if(ierr.ne.0)   ipass=ipass+2
      if( sumup &gt;= (sumtarget-tol) .and. sumup &lt;= (sumtarget+tol) ) then
      else
         ipass=ipass+4
      endif
      if(ipass.eq.0)then
         write(*,*)'sum is ',sumup
         write(*,*)'number of values is',ifound
         write(*,*)'error flag is',ierr
         write(*,*)'STRGARR*: PASSED'
         stop(0)
      else
         write(*,*)'IFOUND:',ifound
         write(*,*)'IERR  :',ierr
         write(*,*)'SUM   :',sumup
         write(*,*)'STRGARR*: FAILED',ipass
         stop(-1)
      endif
   endif
   !----------------------------------------------------------
   delims=sget('cmd_d')
   write(*,*)'DELIMS=[',trim(delims),']'
   !----------------------------------------------------------
   line=sget('cmd_begin')
   write(*,*)'BEGIN:',trim(line)
   if(line.ne.' ')then
      call strgarr(line,41,vals,ifound,delims,ierr)
   endif
   !----------------------------------------------------------
   line=sget('cmd_oo')
   write(*,*)'LINE:',trim(line)
   if(line.ne.' ')then
      call strgarr(line,41,vals,ifound,delims,ierr)
      write(*,*)(VALS(I),I=1,IFOUND)
   else
      INFINITE: do
         read(*,'(a)',iostat=ios)line
         if(ios.ne.0)then
            exit INFINITE
         endif
         call strgarr(line,41,vals,ifound,delims,ierr)
         write(*,*)IERR,IFOUND,':',(VALS(I),I=1,IFOUND)
      enddo INFINITE
   endif
   !----------------------------------------------------------
   line=sget('cmd_end')
   write(*,*)'END',trim(line)
   if(line.ne.' ')then
      call strgarr(line,41,vals,ifound,delims,ierr)
      write(*,*)'END:',(VALS(I),I=1,IFOUND)
   endif
   !----------------------------------------------------------
   end

   ! NOTE: user must supply the JUOWN1 and C procedures.
</pre><h2>SEE ALSO</h2>
<p>To parse a list of numbers instead of expressions see STRGAR(). If there is only one expression see RNUM0(), JUCALCX(), JUCALC().</p>
<h2>REFERENCES</h2>
<p>none. AUTHOR John S. Urban </p><h2>VERSION 1.0, 19971123</h2>

<p class="reference">References <a class="el" href="namespacem__calculator__plus.html#a558a3fed7079c10085ce2f71da532d08">jucalcx()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
