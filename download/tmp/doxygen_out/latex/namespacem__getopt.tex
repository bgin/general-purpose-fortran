\hypertarget{namespacem__getopt}{}\section{m\+\_\+getopt Module Reference}
\label{namespacem__getopt}\index{m\+\_\+getopt@{m\+\_\+getopt}}


\subsubsection*{N\+A\+ME}

M\+\_\+getopt(3fm) -\/ \mbox{[}A\+R\+G\+U\+M\+E\+N\+TS\+:M\+\_\+getopt\mbox{]} parse command line arguments. similar to those in standard C library.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \hyperlink{structm__getopt_1_1option__s}{option\+\_\+s}
\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} function \hyperlink{namespacem__getopt_a20145e0f477d81541fbe9b408f2194d0}{substr} (str, \hyperlink{intro__blas1_83_8txt_a8ba82a50c0c2c12d5f6a77f7e4651c0b}{i}, \hyperlink{exit_87_8txt_a8921ef29c441e427867c54bd3b2462ba}{j})
\item 
\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} function \hyperlink{namespacem__getopt_a00e4c1d7d61539e0bdf63a6ee13284d2}{getopt} (optstring, longopts)
\item 
\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} function \hyperlink{namespacem__getopt_a47714553b3cda11df4d21bc343760d9c}{process\+\_\+long} (longopts, arg)
\item 
\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} function \hyperlink{namespacem__getopt_a5a41350043ae3b92dbbac7dea6702e09}{process\+\_\+short} (optstring, arg)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character}(len=80) \hyperlink{namespacem__getopt_abfaa4b627673956019b3c2148e32a6fa}{optarg}
\item 
\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} \hyperlink{namespacem__getopt_a66243e462b4a0546b8ab7c8b5c73eb91}{optopt}
\item 
integer \hyperlink{namespacem__getopt_acf82c0ecb5e883455b91a3c8620b50c2}{optind} =1
\item 
logical \hyperlink{namespacem__getopt_a7e1bffca463ec7a33438746eea4f9cf0}{opterr} =.true.
\item 
integer, private \hyperlink{namespacem__getopt_ae80924cbaae8d0e057ab2a0660cddee4}{grpind} =2
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{N\+A\+ME}

M\+\_\+getopt(3fm) -\/ \mbox{[}A\+R\+G\+U\+M\+E\+N\+TS\+:M\+\_\+getopt\mbox{]} parse command line arguments. similar to those in standard C library. 

\subsubsection*{S\+Y\+N\+O\+P\+S\+IS}

use getopt\+\_\+m, only \+: getopt use getopt\+\_\+m, only \+: \hyperlink{structm__getopt_1_1option__s}{option\+\_\+s} use getopt\+\_\+m, only \+: optarg,optopt,optind

\subsubsection*{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}

ch = getopt( optstring, \mbox{[}longopts\mbox{]} )

Returns next option character from command line arguments. o If an option is not recognized, it returns \textquotesingle{}?\textquotesingle{}. o If no options are left, it returns a null character, char(0).

\subsubsection*{O\+P\+T\+I\+O\+NS}

optstring contains characters that are recognized as options. If a character is followed by a colon, then it takes a required argument. For example, \char`\"{}x\char`\"{} recognizes \char`\"{}-\/x\char`\"{}, while \char`\"{}x\+:\char`\"{} recognizes \char`\"{}-\/x arg\char`\"{} or \char`\"{}-\/xarg\char`\"{}. opterr Errors are printed by default. Set opterr=.false. to suppress them.

\subsubsection*{R\+E\+T\+U\+R\+NS}

optopt is set to the option character, even if it isn\textquotesingle{}t recognized. optarg is set to the option\textquotesingle{}s argument. optind has the index of the next argument to process. Initially optind=1.

Grouped options are allowed, so \char`\"{}-\/abc\char`\"{} is the same as \char`\"{}-\/a -\/b -\/c\char`\"{}.

If longopts is present, it is an array of type(option\+\_\+s), where each entry describes one long option.

type \hyperlink{structm__getopt_1_1option__s}{option\+\_\+s} character(len=4096) \+:\+: name logical \+:\+: has\+\_\+arg character \+:\+: val end type

The name field is the option name, without the leading -- double dash. Set the has\+\_\+arg field to true if it requires an argument, false if not. The val field is returned. Typically this is set to the corresponding short option, so short and long options can be processed together. (But there is no requirement that every long option has a short option, or vice-\/versa.)

Differences from C version\+:
\begin{DoxyItemize}
\item when options are finished, C version returns -\/1 instead of char(0), and thus stupidly requires an int instead of a char.
\item does not support optreset
\item does not support \char`\"{}-\/-\/\char`\"{} as last argument
\item if no argument, optarg is blank, not N\+U\+LL
\item argc and argv are implicit
\end{DoxyItemize}

Differences for long options\+:
\begin{DoxyItemize}
\item optional argument to \hyperlink{namespacem__getopt_a00e4c1d7d61539e0bdf63a6ee13284d2}{getopt()}, rather than separate function getopt\+\_\+long()
\item has\+\_\+arg is logical, and does not support optional\+\_\+argument
\item does not support flag field (and thus always returns val)
\item does not support longindex
\item does not support \char`\"{}-\/-\/opt=value\char`\"{} syntax, only \char`\"{}-\/-\/opt value\char`\"{}
\item knows the length of longopts, so does not need an empty last record
\end{DoxyItemize}

\subsubsection*{E\+X\+A\+M\+P\+LE}

Sample program\+:

program demo\+\_\+getopts use getopt\+\_\+m, only \+: getopt,\hyperlink{structm__getopt_1_1option__s}{option\+\_\+s},optarg,optopt implicit none

character(len=$\ast$),parameter \+:\+: O\+P\+T\+I\+O\+NS=\textquotesingle{}ab\+:c\textquotesingle{} type(option\+\_\+s)\+:\+: opts(2) opts(1) = \hyperlink{structm__getopt_1_1option__s}{option\+\_\+s}( \char`\"{}alpha\char`\"{}, .false., \textquotesingle{}a\textquotesingle{} ) opts(2) = \hyperlink{structm__getopt_1_1option__s}{option\+\_\+s}( \char`\"{}beta\char`\"{}, .true., \textquotesingle{}b\textquotesingle{} ) do P\+A\+R\+SE\+: select case( getopt( O\+P\+T\+I\+O\+N\+S, opts )) case( char(0)) exit P\+A\+R\+SE case( \textquotesingle{}a\textquotesingle{} ) print $\ast$, \textquotesingle{}option alpha/a\textquotesingle{}, optarg case( \textquotesingle{}b\textquotesingle{} ) print $\ast$, \textquotesingle{}option beta/b=\textquotesingle{}, optarg case( \textquotesingle{}?\textquotesingle{} ) print $\ast$, \textquotesingle{}unknown option \textquotesingle{}, optopt,\textquotesingle{} not in \textquotesingle{},O\+P\+T\+I\+O\+NS stop case default print $\ast$, \textquotesingle{}unhandled option c \textquotesingle{}, optopt, \textquotesingle{} (an intentional bug)\textquotesingle{} end select P\+A\+R\+SE end do end program demo\+\_\+getopts

\subsubsection*{C\+O\+P\+Y\+R\+I\+G\+HT}

Copyright 2008 by Mark Gates

This program is free software; you can redistribute or modify it under the terms of the G\+NU general public license (G\+PL), version 2 or later.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of merchantability or fitness for a particular purpose.

If you wish to incorporate this into non-\/\+G\+PL software, please contact me regarding licensing terms.

Slightly modified from original -\/\+J\+SU 

\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacem__getopt_a00e4c1d7d61539e0bdf63a6ee13284d2}\label{namespacem__getopt_a00e4c1d7d61539e0bdf63a6ee13284d2}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!getopt@{getopt}}
\index{getopt@{getopt}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{getopt()}{getopt()}}
{\footnotesize\ttfamily \hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} function m\+\_\+getopt\+::getopt (\begin{DoxyParamCaption}\item[{\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character}(len=$\ast$), intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{optstring,  }\item[{\hyperlink{stop__watch_83_8txt_a70f0ead91c32e25323c03265aa302c1c}{type}(\hyperlink{structm__getopt_1_1option__s}{option\+\_\+s}), dimension(\+:), intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in}), \hyperlink{option__stopwatch_83_8txt_aa4ece75e7acf58a4843f70fe18c3ade5}{optional}}]{longopts }\end{DoxyParamCaption})}



References optarg, optind, process\+\_\+long(), and process\+\_\+short().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacem__getopt_a00e4c1d7d61539e0bdf63a6ee13284d2_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacem__getopt_a47714553b3cda11df4d21bc343760d9c}\label{namespacem__getopt_a47714553b3cda11df4d21bc343760d9c}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!process\+\_\+long@{process\+\_\+long}}
\index{process\+\_\+long@{process\+\_\+long}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{process\+\_\+long()}{process\_long()}}
{\footnotesize\ttfamily \hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} function m\+\_\+getopt\+::process\+\_\+long (\begin{DoxyParamCaption}\item[{\hyperlink{stop__watch_83_8txt_a70f0ead91c32e25323c03265aa302c1c}{type}(\hyperlink{structm__getopt_1_1option__s}{option\+\_\+s}), dimension(\+:), intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{longopts,  }\item[{\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character}(len=$\ast$), intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{arg }\end{DoxyParamCaption})}



References optarg, opterr, optind, optopt, stderr(), and true().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacem__getopt_a47714553b3cda11df4d21bc343760d9c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{namespacem__getopt_a47714553b3cda11df4d21bc343760d9c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacem__getopt_a5a41350043ae3b92dbbac7dea6702e09}\label{namespacem__getopt_a5a41350043ae3b92dbbac7dea6702e09}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!process\+\_\+short@{process\+\_\+short}}
\index{process\+\_\+short@{process\+\_\+short}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{process\+\_\+short()}{process\_short()}}
{\footnotesize\ttfamily \hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} function m\+\_\+getopt\+::process\+\_\+short (\begin{DoxyParamCaption}\item[{\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character}(len=$\ast$), intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{optstring,  }\item[{\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character}(len=$\ast$), intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{arg }\end{DoxyParamCaption})}



References grpind, optarg, opterr, optind, optopt, stderr(), and substr().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{namespacem__getopt_a5a41350043ae3b92dbbac7dea6702e09_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{namespacem__getopt_a5a41350043ae3b92dbbac7dea6702e09_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacem__getopt_a20145e0f477d81541fbe9b408f2194d0}\label{namespacem__getopt_a20145e0f477d81541fbe9b408f2194d0}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!substr@{substr}}
\index{substr@{substr}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{substr()}{substr()}}
{\footnotesize\ttfamily \hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} function m\+\_\+getopt\+::substr (\begin{DoxyParamCaption}\item[{\hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character}(len=$\ast$), intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{str,  }\item[{integer, intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{i,  }\item[{integer, intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{j }\end{DoxyParamCaption})}

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacem__getopt_a20145e0f477d81541fbe9b408f2194d0_icgraph}
\end{center}
\end{figure}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespacem__getopt_ae80924cbaae8d0e057ab2a0660cddee4}\label{namespacem__getopt_ae80924cbaae8d0e057ab2a0660cddee4}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!grpind@{grpind}}
\index{grpind@{grpind}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{grpind}{grpind}}
{\footnotesize\ttfamily integer, private m\+\_\+getopt\+::grpind =2\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{namespacem__getopt_abfaa4b627673956019b3c2148e32a6fa}\label{namespacem__getopt_abfaa4b627673956019b3c2148e32a6fa}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!optarg@{optarg}}
\index{optarg@{optarg}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{optarg}{optarg}}
{\footnotesize\ttfamily \hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character}(len=80) m\+\_\+getopt\+::optarg}

\mbox{\Hypertarget{namespacem__getopt_a7e1bffca463ec7a33438746eea4f9cf0}\label{namespacem__getopt_a7e1bffca463ec7a33438746eea4f9cf0}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!opterr@{opterr}}
\index{opterr@{opterr}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{opterr}{opterr}}
{\footnotesize\ttfamily logical m\+\_\+getopt\+::opterr =.true.}

\mbox{\Hypertarget{namespacem__getopt_acf82c0ecb5e883455b91a3c8620b50c2}\label{namespacem__getopt_acf82c0ecb5e883455b91a3c8620b50c2}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!optind@{optind}}
\index{optind@{optind}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{optind}{optind}}
{\footnotesize\ttfamily integer m\+\_\+getopt\+::optind =1}

\mbox{\Hypertarget{namespacem__getopt_a66243e462b4a0546b8ab7c8b5c73eb91}\label{namespacem__getopt_a66243e462b4a0546b8ab7c8b5c73eb91}} 
\index{m\+\_\+getopt@{m\+\_\+getopt}!optopt@{optopt}}
\index{optopt@{optopt}!m\+\_\+getopt@{m\+\_\+getopt}}
\subsubsection{\texorpdfstring{optopt}{optopt}}
{\footnotesize\ttfamily \hyperlink{option__stopwatch_83_8txt_abd4b21fbbd175834027b5224bfe97e66}{character} m\+\_\+getopt\+::optopt}

