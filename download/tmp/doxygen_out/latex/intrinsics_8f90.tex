\hypertarget{intrinsics_8f90}{}\section{L\+I\+B\+R\+A\+R\+Y/lib\+G\+P\+F/download/tmp/\+P\+R\+O\+G\+R\+A\+M\+S/intrinsics.f90 File Reference}
\label{intrinsics_8f90}\index{L\+I\+B\+R\+A\+R\+Y/lib\+G\+P\+F/download/tmp/\+P\+R\+O\+G\+R\+A\+M\+S/intrinsics.\+f90@{L\+I\+B\+R\+A\+R\+Y/lib\+G\+P\+F/download/tmp/\+P\+R\+O\+G\+R\+A\+M\+S/intrinsics.\+f90}}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
\hyperlink{M__stopwatch_83_8txt_acfbcff50169d691ff02d4a123ed70482}{subroutine} \hyperlink{intrinsics_8f90_a39c21619b08a3c22f19e2306efd7f766}{help\+\_\+version} (l\+\_\+version)
\begin{DoxyCompactList}\small\item\em \subsubsection*{N\+A\+ME}

I\+N\+T\+R\+I\+N\+S\+I\+C(3f) -\/ intrinsic man(1) pages \end{DoxyCompactList}\item 
\hyperlink{M__stopwatch_83_8txt_acfbcff50169d691ff02d4a123ed70482}{subroutine} \hyperlink{intrinsics_8f90_a3e09a3b52ee8fb04eeb93fe5761626a8}{help\+\_\+usage} (l\+\_\+help)
\item 
program \hyperlink{intrinsics_8f90_a47ddb3e494b21f6cf5e2853dc6d266b0}{intrinsics\+\_\+man\+\_\+pages}
\begin{DoxyCompactList}\small\item\em \subsubsection*{N\+A\+ME}

intrinsics(1f) -\/ \mbox{[}F\+U\+N\+IX\mbox{]} output text versions of Fortran intrinsic man(1) pages \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{intrinsics_8f90_a3e09a3b52ee8fb04eeb93fe5761626a8}\label{intrinsics_8f90_a3e09a3b52ee8fb04eeb93fe5761626a8}} 
\index{intrinsics.\+f90@{intrinsics.\+f90}!help\+\_\+usage@{help\+\_\+usage}}
\index{help\+\_\+usage@{help\+\_\+usage}!intrinsics.\+f90@{intrinsics.\+f90}}
\subsubsection{\texorpdfstring{help\+\_\+usage()}{help\_usage()}}
{\footnotesize\ttfamily \hyperlink{M__stopwatch_83_8txt_acfbcff50169d691ff02d4a123ed70482}{subroutine} help\+\_\+usage (\begin{DoxyParamCaption}\item[{logical, intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{l\+\_\+help }\end{DoxyParamCaption})}



References false().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{intrinsics_8f90_a3e09a3b52ee8fb04eeb93fe5761626a8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{intrinsics_8f90_a39c21619b08a3c22f19e2306efd7f766}\label{intrinsics_8f90_a39c21619b08a3c22f19e2306efd7f766}} 
\index{intrinsics.\+f90@{intrinsics.\+f90}!help\+\_\+version@{help\+\_\+version}}
\index{help\+\_\+version@{help\+\_\+version}!intrinsics.\+f90@{intrinsics.\+f90}}
\subsubsection{\texorpdfstring{help\+\_\+version()}{help\_version()}}
{\footnotesize\ttfamily \hyperlink{M__stopwatch_83_8txt_acfbcff50169d691ff02d4a123ed70482}{subroutine} help\+\_\+version (\begin{DoxyParamCaption}\item[{logical, intent(\hyperlink{M__journal_83_8txt_afce72651d1eed785a2132bee863b2f38}{in})}]{l\+\_\+version }\end{DoxyParamCaption})}



\subsubsection*{N\+A\+ME}

I\+N\+T\+R\+I\+N\+S\+I\+C(3f) -\/ intrinsic man(1) pages 

\subsubsection*{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}

\begin{DoxyVerb}This is a project to provide a standard set of man(1) pages for Fortran
and the Fortran intrinsics, ultimately with a working example program
for each intrinsic.

The manpage source is maintained as a single flat-text file (intrinsics.ff) which is
run thru ufpp(1) and txt2man(1) to create the program intrinsics(1f).
That program generates all the text as plain text as well as being used
as the source for the man(1) pages. The program intrinsics(1f) is
very useful for scanning for keywords.

Note that the vim(1) editor will call up a man(1) page for a word if
the letter "K" is pressed over the word.

Integration with the editor is a powerful tool when inspecting code
that uses unfamiliar procedures and to verify correct usage when
creating code.

*Note*: In many cases the descriptions of these intrinsics were
originally taken from the [[GFortran|GNU Fortran]] manual to make
descriptions on the Fortran Wiki by Jason Blevins (which were then
used to start this collection). Like the Fortran Wiki itself, the
[[GFortran|GNU Fortran]] manual is licensed under the [[GNU Free
Documentation License]].

These documents are at the state of "good enough considering the
alternative is nothing", but are still actively being completed. \end{DoxyVerb}
 

References false().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{intrinsics_8f90_a39c21619b08a3c22f19e2306efd7f766_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{intrinsics_8f90_a47ddb3e494b21f6cf5e2853dc6d266b0}\label{intrinsics_8f90_a47ddb3e494b21f6cf5e2853dc6d266b0}} 
\index{intrinsics.\+f90@{intrinsics.\+f90}!intrinsics\+\_\+man\+\_\+pages@{intrinsics\+\_\+man\+\_\+pages}}
\index{intrinsics\+\_\+man\+\_\+pages@{intrinsics\+\_\+man\+\_\+pages}!intrinsics.\+f90@{intrinsics.\+f90}}
\subsubsection{\texorpdfstring{intrinsics\+\_\+man\+\_\+pages()}{intrinsics\_man\_pages()}}
{\footnotesize\ttfamily program intrinsics\+\_\+man\+\_\+pages (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\subsubsection*{N\+A\+ME}

intrinsics(1f) -\/ \mbox{[}F\+U\+N\+IX\mbox{]} output text versions of Fortran intrinsic man(1) pages 

\subsubsection*{S\+Y\+N\+O\+P\+S\+IS}

\begin{DoxyVerb} intrinsics [--help|--version]
\end{DoxyVerb}


\subsubsection*{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}

This program outputs all the source of the man(1) pages of the Fortran intrinsics procedures.

\subsubsection*{O\+P\+T\+I\+O\+NS}

--help display this help and exit --version output version information and exit

\subsubsection*{E\+X\+A\+M\+P\+L\+ES}

\begin{DoxyVerb} Sample commands

    intrinsics >x;vi x \end{DoxyVerb}


\subsubsection*{N\+A\+ME}

include(7f) -\/ \mbox{[}F\+O\+R\+T\+R\+AN\mbox{]} including source text \subsubsection*{S\+Y\+N\+O\+P\+S\+IS}

\begin{DoxyVerb} INCLUDE char-literal-constant
\end{DoxyVerb}
 \subsubsection*{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}

Additional text may be incorporated into the source text of a program unit during processing. This is accomplished with the I\+N\+C\+L\+U\+DE line, which has the form \begin{DoxyVerb}   INCLUDE char-literal-constant
\end{DoxyVerb}


An I\+N\+C\+L\+U\+DE line is not a Fortran statement.

The char-\/literal-\/constant shall not have a kind type parameter value that is a named-\/constant. The interpretation of char-\/literal-\/constant is processor dependent. An example of a possible valid interpretation is that char-\/literal-\/constant is the name of a file that contains the source text to be included.

An I\+N\+C\+L\+U\+DE line shall appear on a single source line where a statement may appear; it shall be the only nonblank text on this line other than an optional trailing comment. Thus, a statement label is not allowed.

The effect of the I\+N\+C\+L\+U\+DE line is as if the referenced source text physically replaced the I\+N\+C\+L\+U\+DE line prior to program processing. Included text may contain any source text, including additional I\+N\+C\+L\+U\+DE lines; such nested I\+N\+C\+L\+U\+DE lines are similarly replaced with the specified source text. The maximum depth of nesting of any nested I\+N\+C\+L\+U\+DE lines is processor dependent. Inclusion of the source text referenced by an I\+N\+C\+L\+U\+DE line shall not, at any level of nesting, result in inclusion of the same source text.

When an I\+N\+C\+L\+U\+DE line is resolved, the first included statement line shall not be a continuation line and the last included statement line shall not be continued.

N\+O\+TE \begin{DoxyVerb}    In some circumstances, for example where source code is
    maintained in an INCLUDE file for use in programs whose source
    form might be either fixed or free, observing the following
    rules allows the code to be used with either source form.

    *   Confine statement labels to character positions 1 to
        5 and statements to character positions 7 to 72.
    *   Treat blanks as being significant.
    *   Use only the exclamation mark (!) to indicate
        a comment, but do not start the comment in character
        position 6.
    *   For continued statements, place an ampersand (&) in
        both character position 73 of a continued line and character
        position 6 of a continuation line.
\end{DoxyVerb}
 \subsubsection*{E\+X\+A\+M\+P\+LE}

\subsubsection*{N\+A\+ME}

scratch(7f) -\/ \mbox{[}F\+O\+R\+T\+R\+AN\+:O\+P\+EN\mbox{]} where scratch files are typically written by O\+P\+E\+N(3f) \subsubsection*{S\+Y\+N\+O\+P\+S\+IS}

\begin{DoxyVerb} open( .... status='scratch')
\end{DoxyVerb}
 \subsubsection*{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}

Where files opened with status=\textquotesingle{}scratch\textquotesingle{} are written is implementation-\/dependent. Often the file is unlinked so that it goes away unconditionally when the program starts, so in many $\ast$nix environments you cannot see the scratch file that is often used. So the compiler documentation should be referred to, but typically a scratch file is opened with a unique filename in one of the following directories\+:

o in the directory pointed to by the environment variable \$\+T\+M\+P\+D\+IR, if defined. o next directories pointed to by \$\+T\+MP and \$\+T\+E\+MP are used if the variables are defined. o if none of the variables are defined, then the /tmp directory is typically used on $\ast$nix systems, and the current directory is often used on other systems.

This can be important if you are generating large scratch files, as you may want to specify they are created in a secure directory or on a high-\/speed server such as a Lustre file server or memory-\/resident file system. Consider

o Scratch files are often opened using the current permission mask (umask) combined with possible operating-\/system or kernel defaults and file-\/system-\/dependent attributes, so make sure scratch files are properly secure o files are written in an area that you can write to and have sufficient space in o that the scratch space provides optimal performance o make sure the system cleans up properly when programs are aborted.

The behavior is very system-\/dependent.

\subsubsection*{E\+X\+A\+M\+P\+LE\+:}

System-\/dependent example\+:

open(newunit=lun,status=\textquotesingle{}scratch\textquotesingle{}) inquire(unit=lun,file=filename) write($\ast$,$\ast$)\textquotesingle{}filename=\textquotesingle{},filename) end \subsubsection*{N\+A\+ME}

initialize\+\_\+arrays(7f) -\/ \mbox{[}F\+O\+R\+T\+R\+AN\+:F\+AQ\mbox{]} Initializing small 2D numeric arrays with array constructors \subsubsection*{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}

Intuitively, one might assume that if one wants to initialize a small array by rows that something like the following will work\+:

! D\+O\+ES N\+OT W\+O\+RK integer \+:\+: xx(3,5)= \mbox{[} 1, 2, 3, 4, 5\mbox{]}, \& \mbox{[}10,20,30,40,50\mbox{]}, \& \mbox{[}11,22,33,44,55\mbox{]}

or perhaps

! D\+O\+ES N\+OT W\+O\+RK integer \+:\+: xx(3,5)= \mbox{[} \mbox{[} 1, 2, 3, 4, 5\mbox{]}, \& \mbox{[}10,20,30,40,50\mbox{]}, \& \mbox{[}11,22,33,44,55\mbox{]} \mbox{]}

Someday something simpler might work, but currently the following syntax is required to specify the values in an intuitive row-\/column sequence using an array constructor\+:

integer,save \+:\+: xx(3,5)= reshape(\mbox{[}\& \begin{DoxyVerb}1, 2, 3, 4, 5, &
\end{DoxyVerb}
 10,20,30,40,50, \& 11,22,33,44,55 \&

\mbox{]},shape(xx),order\mbox{[}2,1\mbox{]})

This is because an array constructor can be used to create and assign values only to rank-\/one arrays. To define arrays of more than one dimension with an array constructor, you must use the R\+E\+S\+H\+A\+P\+E(3f) intrinsic function.

Note that the O\+R\+D\+ER= option on R\+E\+S\+H\+A\+P\+E(3f) is used to allow the values to be specified in row-\/column order instead of the default behavior, which fills columns first.

Also note that if the expressions are of type character, Fortran 95/90 requires each expression to have the same character length (there is a common compiler extension that extends all strings to the length of the longest value specified, but depending on it reduces portability).

\subsubsection*{Printing small arrays in row-\/column format}

When working with small arrays the issue that there is no default Fortran routine for printing an array in row-\/column order becomes apparent. So lets create a simple solution for integer arrays (P\+R\+I\+N\+T\+\_\+\+M\+A\+T\+R\+I\+X\+\_\+\+I\+N\+T(3f))\+:

program demo\+\_\+array\+\_\+constructor ! initializing small arrays implicit none integer,save \+:\+: xx(3,5)= reshape(\mbox{[}\& \begin{DoxyVerb}1, 2, 3, 4, 5, &
\end{DoxyVerb}
 10,20,30,40,50, \& 11,22,33,44,-\/1055 \&

\mbox{]},shape(xx),order=\mbox{[}2,1\mbox{]})

call print\+\_\+matrix\+\_\+int(\textquotesingle{}xx array\+:\textquotesingle{},xx)

contains

subroutine print\+\_\+matrix\+\_\+int(title,arr) implicit none

character(len=$\ast$),parameter\+::ident= \char`\"{}@(\#)print\+\_\+matrix\+\_\+int(3f) -\/ print small 2d integer arrays in row-\/column format\char`\"{}

character(len=$\ast$),intent(in) \+:\+: title integer,intent(in) \+:\+: arr(\+:,\+:) integer \+:\+: i character(len=\+:),allocatable \+:\+: biggest

write($\ast$,$\ast$)trim(title) ! print title biggest=\textquotesingle{} \textquotesingle{} ! make buffer to write integer into write(biggest,\textquotesingle{}(i0)\textquotesingle{})ceiling(log10(real(maxval(abs(arr)))))+1 ! find how many characters to use for integers biggest=\textquotesingle{}(\char`\"{} $>$ \mbox{[}\char`\"{},$\ast$(i\textquotesingle{}//trim(biggest)//\textquotesingle{}\+:,\char`\"{},\char`\"{}))\textquotesingle{} ! use this format to write a row do i=1,size(arr,dim=1) ! print one row of array at a time write($\ast$,fmt=biggest,advance=\textquotesingle{}no\textquotesingle{})arr(i,\+:) write($\ast$,\textquotesingle{}(\char`\"{} \mbox{]}\char`\"{})\textquotesingle{}) enddo

end subroutine print\+\_\+matrix\+\_\+int

end program demo\+\_\+array\+\_\+constructor

Results\+:

xx array\+: $>$ \mbox{[} 1, 2, 3, 4, 5 \mbox{]} $>$ \mbox{[} 10, 20, 30, 40, 50 \mbox{]} $>$ \mbox{[} 11, 22, 33, 44, 55 \mbox{]}

We could do a more robust version that handles R\+E\+AL and C\+O\+M\+P\+L\+EX values as well as NaN values, but it has already been done. If you need to print a variety of small matrices see\+:

dispmodule(3f), \char`\"{}\+A Fortran 95 module for pretty-\/printing matrices\char`\"{}. Kristjan Jonasson, Department of Computer Science, School of Science and Engineering, University of Iceland, Hjardarhaga 4, 107 Reykjavik, Iceland (\href{mailto:jonasson@hi.is}{\tt jonasson@hi.\+is}).

\#\+Initializing a 2D array using D\+A\+TA statements

Note that D\+A\+TA statements are very flexible, and allow for perhaps the most intelligible way of specifying small arrays row by row. For example\+:

! fill rows using D\+A\+TA statements integer,save,dimension(3,5) \+:\+: gg data gg(1,\+:)/ 1, 2, 3, 4, 5 / data gg(2,\+:)/ 10, 20, 30, 40, 50 / data gg(3,\+:)/ 11, 22, 33, 44, 55 /

There are other ways to use a D\+A\+TA statement to fill in row-\/column order, including use of the S\+I\+Z\+E(3f) function and an implied-\/\+DO\+:

! use implied-\/\+DO so data can be declared in row-\/column order integer, dimension(3,5) \+:\+: ff D\+A\+TA (( ff(\+J,\+I), I=1,size(ff,dim=2)), J=1,size(ff,dim=1)) / \& 01,02,03,04,05, \& 10,20,30,40,50, \& 11,22,33,44,55 /

\subsubsection*{Initializing a 2D array from a vector using E\+Q\+U\+I\+V\+A\+L\+E\+N\+CE}

Sometimes instead of using R\+E\+S\+H\+A\+P\+E(3f) you will see someone initialize a vector and then equivalence it to a multi-\/dimensional array; especially if the code has a reason to access the data as both a vector and a matrix\+:

! multi-\/dimensional row1, row2, .... by equivalence integer,parameter \+:\+: d1=3,d2=5 integer \+:\+: ee(d1,d2) ! note that the D\+A\+TA statements could be used to initialize the array instead integer \+:\+: e(d1$\ast$d2) =\mbox{[}1,10,11, 2,20,22, 3,30,33, 4,40,44, 5,50,55\mbox{]} equivalence (e(1),ee(1,1))

\subsubsection*{Notes}

Remember that for simple initializations vector statements can be used

real \+:\+: arr(10,20)=0.\+0 ! array constructors can be used to define constants, not just vectors integer,parameter \+:\+: ii(10,10)=\mbox{[}(i,i=1,size(ii))\mbox{]} ! odd numbers using implied-\/\+DO

and that if things are too complicated you can just set the values in the executable body of the code. 

References arguments, echo(), help\+\_\+usage(), help\+\_\+version(), m\+\_\+kracken\+::kracken(), m\+\_\+kracken\+::lget(), the(), and to.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{intrinsics_8f90_a47ddb3e494b21f6cf5e2853dc6d266b0_cgraph}
\end{center}
\end{figure}
